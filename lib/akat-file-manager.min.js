"use strict";angular.module("akat-file-manager",["ngFileUpload"]),angular.module("akat-file-manager").directive("akatfilemanager",["$q","$timeout",function(a,b){return{templateUrl:"submodules/akat-file-manager/directives/akat-filemanager.html",restrict:"E",scope:{files:"="},link:function(c,d,e){c.tabactive={},b(function(){c.pageOffset=e.pageoffset,c.tabactive.mediaActive=!0});var f=Array.prototype.slice;c.selectPhoto=function(a){c.selected_photo=c.files[a]},c.uploadFileClick=function(a){angular.element(a).trigger("click")},d.bind("change",function(b){function d(a,b){b.path=e.fpath,c.mediaActive=!0;var d={filename:b.name,progress:10,label:"",alt:"",description:"",low_resolution:{},thumbnail:{url:"http://icons.iconarchive.com/icons/tristan-edwards/sevenesque/1024/Preview-icon.png",width:"150",height:"150"},standar_resolution:{},date:new Date};c.files.unshift(d);var f={};f.blob=a,f.uploadOptions=b,c.$emit("akat-filemanager-upload",f)}function g(b){var c=a.defer(),d=new FileReader;return d.onload=function(a){c.resolve(a.target.result)},d.onerror=function(a){c.reject(a)},d.readAsDataURL(b),c.promise}var h=b.target;h.value&&a.all(f.call(h.files,0).map(g)).then(function(a){c.tabactive.mediaActive=!0,a.forEach(function(a,b){d(a,h.files[b])})})}),c.selectFile=function(){c.selected_photo&&angular.isDefined(c.selected_photo.low_resolution.url)&&c.$emit("akat-filemanager-select",c.selected_photo)}}}}]),angular.module("akat-file-manager").directive("resize",["$window","$timeout",function(a,b){return function(c,d,e){var f=angular.element(a);b(function(){var a=Number(c.$parent.$parent.pageOffset),b=Number(e.offset),g=a+b,h=function(){d.css("height",f.height()-g+"px")};f.bind("resize",function(){h()}),h()})}}]),angular.module("akat-file-manager").run(["$templateCache",function(a){a.put("submodules/akat-file-manager/directives/akat-filemanager.html",'<div class="row">\n\n        <div class="media">\n            <uib-tabset justified="true">\n\n                <uib-tab index="0"  heading="Μεταμόρφωση αρχείων">\n                    <div class="row">\n                        <div class="upload t-center">\n                            <h2>Σύρετε αρχεία οπουδήποτε για μεταφόρτωση</h2>\n                            <p>ή</p>\n                            <div class="btn btn-upload" ng-click="uploadFileClick(\'#file\')">Επιλογή αρχείου</div>\n                             <input ng-hide="true" id="file" type="file" accept="image/*" multiple />\n                            <p>Μέγιστο μέγεθος αρχείου: 16 MB.</p>\n                        </div>\n                    </div>\n                </uib-tab>\n\n                <uib-tab index="1" active="tabactive.mediaActive" heading="Βιβλιοθήκη πολυμέσων" >\n                    <div class="gallery t-center">\n                        <div class="row">\n                            <div class="p0 col-lg-9 col-md-9 col-sm-12 col-xs-12 bg-white main ">\n                                <div class="head row">\n                                    <div class="left">\n                                        <div class="btn-group" uib-dropdown dropdown-append-to-body>\n                                            <button id="btn-append-to-body" type="button" class="btn btn-date" uib-dropdown-toggle>\n                                                Όλες οι ημερομηνίες <span class="caret"></span>\n                                            </button>\n                                            <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="btn-append-to-body">\n                                                <li role="menuitem"><a href="#">Αυγουστος 2016</a></li>\n                                                <li role="menuitem"><a href="#">Ιουλιος 2016</a></li>\n                                                <li role="menuitem"><a href="#">Ιούνιος 2016</a></li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                    <div class="right">\n                                          <input type="text" class="form-control" placeholder="Search for image...">\n                                    </div>\n                                </div>\n                                <div class="images" resize offset="150">\n                                    <ul class="all">\n                                        <li class="thumbnail col-lg-2 col-md-2 col-sm-4 col-xs-6" ng-repeat="file in files track by $index" ng-click="selectPhoto($index)">\n                                            <img ng-src="{{file.low_resolution.url}}">      \n                                            <uib-progressbar class="progress" ng-if="file.progress" value="55"></uib-progressbar>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 bg-grey info" resize offset="87">\n                                <div class="head row">\n                                   <h3>ΣΤΟΙΧΕΙΑ ΣΥΝΗΜΜΕΝΟΥ</h3>\n                                </div>\n                                <div class="row infos">\n                                    <div class="thumbnail">\n                                        <img ng-src="{{selected_photo.low_resolution.url}}">\n                                    </div>\n                                </div>\n\n                                <div class="desc row">\n                                    <!--<p class="name">{{selected_photo.alt}}</p>-->\n                                    <p>2 Αυγ 2016 1 MB 740 × 644</p>\n                                    <p class="delete"><a href="#">Διαγραφή οριστικά</a></p>\n                                </div>\n    \n                               \n                                <div class="forms row clr">\n\n                                    <p> URL <input type="text" class="form-control" disabled ng-model="selected_photo.low_resolution.url" value="{{selected_photo.low_resolution.url}}"></p>\n                                    <p> Τίτλος <input type="text" class="form-control" ng-model="selected_photo.alt" value="{{selected_photo.alt}}"></p>\n                                    <p> Λεζάντα <input type="text" class="form-control" ng-model="selected_photo.label" value="{{selected_photo.label}}"></p>\n                                    <p> Περιγραφή <input type="text" class="form-control" ng-model="selected_photo.description" value="{{selected_photo.description}}"></p>\n\n                                </div>  \n\n                                <div class="select right">\n\n                                    <div class="btn btn-select" ng-click="selectFile()">Επιλογή</div>\n                                \n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </uib-tab>\n\n            </uib-tabset>\n        </div>\n\n</div>')}]);